\PassOptionsToPackage{svgnames}{xcolor}
\documentclass[sigconf]{acmart}

\setcopyright{acmlicensed}
\copyrightyear{2018}
\usepackage[font=small,skip=4pt]{caption}

\makeatletter
\begingroup\endlinechar=-1\relax
       \everyeof{\noexpand}%
       \edef\x{\endgroup\def\noexpand\homepath{%
         \@@input|"kpsewhich --var-value=HOME" }}\x
\makeatother
\def\overleafhome{/tmp}

\usepackage{subcaption}
\usepackage{fontawesome}

\usepackage{import}
\ifx\homepath\overleafhome
  \subimport{latex-tools-overleaf/}{config.tex}
  \subimport{latex-tools-overleaf/}{includes.tex}
  \usepackage[outputdir=../]{minted}
\else
  \subimport{latex-tools}{config.tex}
  \subimport{latex-tools/}{includes.tex}
  %\usepackage[finalizecache,outputdir=.]{minted}
  \usepackage[frozencache,outputdir=.]{minted}
\fi

\usepackage[utf8]{inputenc}

\usepackage{multirow}
\usepackage{makecell}
\usepackage{enumitem}

\usepackage{pifont}
\newcommand{\checkmarkOurs}{\ding{52}}
\newcommand{\checkmarkNegativeOurs}{\ding{56}}
\usepackage{adjustbox}

\copyrightyear{2025}
\acmYear{2025}
\setcopyright{cc}
\setcctype{by}
\acmConference[SC '25]{The International Conference for High Performance Computing, Networking, Storage and Analysis}{November 16--21, 2025}{St Louis, MO, USA}
\acmBooktitle{The International Conference for High Performance Computing, Networking, Storage and Analysis (SC '25), November 16--21, 2025, St Louis, MO, USA}
\acmDOI{10.1145/3712285.3759868}
\acmISBN{979-8-4007-1466-5/2025/11}


%\settopmatter{authorsperrow=4} 

\author[M. Copik]{Marcin Copik}
\affiliation{%
	\institution{ETH Zürich}
	\city{Zürich}
	\country{Switzerland}
}
\email{mcopik@gmail.com}

\author[E. Alnuaimi]{Eiman Alnuaimi}
\orcid{}
\affiliation{%
	\institution{ETH Zürich}
	\city{Zürich}
	\country{Switzerland}
}
\email{ealnuaimi@student.ethz.ch}

\author[A. Kamatar]{Alok Kamatar}
\orcid{}
\affiliation{%
	\institution{University of Chicago}
	\city{Chicago}
	\country{USA}
}
\email{alokvk2@uchicago.edu}

\author[V. Hayot-Sasson]{Valerie Hayot-Sasson}
\orcid{}
\affiliation{%
	\institution{University of Chicago}
	\city{Chicago}
	\country{USA}
}
\email{valerie.hayot-sasson@etsmtl.ca}

\author[A. Madonna]{Alberto Madonna}
\orcid{}
\affiliation{%
	\institution{ETH Zürich}
	\city{Lugano}
	\country{Switzerland}
}
\affiliation{%
	\institution{Swiss National Supercomputing Centre (CSCS)}
	\city{Lugano}
	\country{Switzerland}
}
\email{alberto.madonna@cscs.ch}

\author[T. Gamblin]{Todd Gamblin}
\orcid{}
\affiliation{%
	\institution{Lawrence Livermore National Laboratory (LLNL)}
	\city{Livermore}
	\country{USA}
}
\email{tgamblin@llnl.gov}

\author[K. Chard]{Kyle Chard}
\orcid{}
\affiliation{%
	\institution{University of Chicago}
	\city{Chicago}
	\country{USA}
}
\affiliation{%
	\institution{Argonne National Laboratory (ANL)}
	\city{Chicago}
	\country{USA}
}
\email{chard@uchicago.edu}

\author[I. Foster]{Ian Foster}
\orcid{}
\affiliation{%
	\institution{University of Chicago}
	\city{Chicago}
	\country{USA}
}
\affiliation{%
	\institution{Argonne National Laboratory (ANL)}
	\city{Chicago}
	\country{USA}
}
\email{foster@uchicago.edu}

\author[T. Hoefler]{Torsten Hoefler}
\orcid{}
\affiliation{
	\institution{ETH Zürich}
	\city{Zürich}
	\country{Switzerland}
}
\affiliation{%
	\institution{Swiss National Supercomputing Centre (CSCS)}
	\city{Zürich}
	\country{Switzerland}
}
\email{htor@inf.ethz.ch}

\keywords{Containers, Intermediate Representation, Performance Portability}

\begin{CCSXML}
<ccs2012>
<concept>
<concept_id>10010520.10010521.10010537.10003100</concept_id>
<concept_desc>Computer systems organization~Cloud computing</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10002944.10011123.10011674</concept_id>
<concept_desc>General and reference~Performance</concept_desc>
<concept_significance>300</concept_significance>
</concept>
<concept>
<concept_id>10011007.10010940.10011003.10011002</concept_id>
<concept_desc>Software and its engineering~Software performance</concept_desc>
<concept_significance>500</concept_significance>
</concept>
<concept>
<concept_id>10011007.10011074.10011111.10011697</concept_id>
<concept_desc>Software and its engineering~System administration</concept_desc>
<concept_significance>300</concept_significance>
</concept>
</ccs2012>
\end{CCSXML}

\ccsdesc[500]{Computer systems organization~Cloud computing}
\ccsdesc[300]{General and reference~Performance}
\ccsdesc[500]{Software and its engineering~Software performance}
\ccsdesc[300]{Software and its engineering~System administration}

\newtheoremstyle{test}% name
{1.5pt}% Space above
{1.5pt}% Space below
{}% Body font
{}% Indent amount
{\itshape}% Theorem head font
{:}% Punctuation after theorem head
{.5em}% Space after theorem head
{}% Theorem head spec (can be left empty, meaning ‘normal’)

\theoremstyle{test} 

\newtheorem{hyp}{Hypothesis}
\newtheorem{claim}{Claim}
\newtheorem{definition}{Definition}

\newcommand{\toolname}{XaaS\xspace{}}

\include{json-lang}

\begin{document}

\title{XaaS Containers: Performance-Portable Representation With Source and IR Containers}

\begin{abstract}
	High-performance computing (HPC) systems and cloud data centers are converging, and containers are becoming the default method of portable software deployment.
	%
	Yet, while containers simplify software management, they face significant performance challenges in HPC environments as they must sacrifice hardware-specific optimizations to achieve portability.
	%
	Although HPC containers can use runtime hooks to access optimized MPI libraries and GPU devices, they are limited by application binary interface (ABI) compatibility and cannot overcome the effects of early-stage compilation decisions.
	%
	Acceleration as a Service (XaaS) proposes a vision of \emph{performance-portable} containers, where a containerized application should achieve peak performance across all HPC systems.
	%
	We present a practical realization of this vision through Source and Intermediate Representation (IR) containers, where we delay performance-critical decisions until the target system specification is known.
	%
	We analyze specialization mechanisms in HPC software and propose a new LLM-assisted method for automatic discovery of specializations.
	%
	By examining the compilation pipeline, we develop a methodology to build containers optimized for target architectures at deployment time.
	%
	Our prototype demonstrates that new XaaS containers combine the convenience of containerization with the performance benefits of system-specialized builds.
\end{abstract}

\maketitle

\vspace{-0.75em}
{\small\noindent\textbf{XaaS Implementation:} \url{https://github.com/spcl/xaas-containers}}

{\small\noindent\textbf{XaaS Artifact}: \url{https://doi.org/10.5281/zenodo.17115960}}

\section{Introduction}
\input{secs/introduction}

\section{State of HPC Software}
\label{sec:hpc-software}
\input{secs/hpc-software}

\section{HPC Specialization in XaaS}
\label{sec:xaas-containers}
\input{secs/containers}

\section{XaaS Containers}
\label{sec:ir-container}
\input{secs/ir-containers}

\section{XaaS Containers in Practice}
\label{sec:ir-integration}
\input{secs/ir-integration}

\section{Evaluation}
\input{secs/evaluation}

\section{Related Work}
\input{secs/related-work-short}

\section{Discussion}
\input{secs/discussion-short}

\section{Conclusions}
\input{secs/conclusions}

\begin{acks}
	This project received support by the SwissTwins project (funded by the Swiss State Secretariat for Education, Research and Innovation) and the ERC PSAP project (Grant Agreement No. 101002047).
	%
	This work was performed under the auspices of the U.S. Department of Energy by Lawrence Livermore National Laboratory under contract DE-AC52-07NA27344 (LLNL-CONF-2010482), Lawrence Livermore National Security, LLC, and by Argonne National Laboratory under
	Contract DE-AC02-06CH11357.
	%
	We thank the Swiss National Supercomputing Centre (CSCS) and Argonne Leadership Computing Facility (ALCF) for providing computational resources and technical support that facilitated this project.
	%
	The authors leveraged Claude to assist with light editing of the manuscript.
	%
	Copilot and Claude Code were used during code development.
	%
	All content and ideas remain the authors' original work.
\end{acks}

\bibliographystyle{ACM-Reference-Format}
\bibliography{serverless,own,hpc}

\appendix
\input{secs/LLM-prompt}
\input{secs/json-schema}

\end{document}
\endinput
