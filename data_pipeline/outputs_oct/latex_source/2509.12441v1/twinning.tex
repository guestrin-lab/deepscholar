\section{Digital Radio Twin}
\label{sec:twinning}
In this section, we introduce the design of the DRT by finetuning the parameters of the target scenario in the simulator.

% TODO: define sim-to-real discrepancy 
\subsection{Problem}
The goal is to derive the DRT to achieve all the attributes of fidelity, tractability, and synchronicity. 
We consider the scene is given with 3D terrain, including the full set of building objects within the region of interest. 
Each building is associated with an initial material label, such as marble or concrete, which corresponds to a specific set of material parameters. 
These material labels serve as the initial configuration for the DRT simulation. 
Since these default values may not fully reflect the actual propagation environment, a calibration process is subsequently performed to refine the material parameters using real-world signal measurements, thereby improving the fidelity and reliability of the DRT.

In this work, we focus on calibrating two key electromagnetic parameters used in DRT modeling for objects within the region $\mathcal{A}$: conductivity (in S/m) and relative permittivity. 
Specifically, conductivity characterizes how a material attenuates or reflects incident electromagnetic energy, while relative permittivity affects the bending and delay of waves as they traverse the medium, both playing critical roles in DRT modeling. 
We use $\boldsymbol{\sigma} = [\sigma_1, \sigma_2, \cdots, \sigma_K ]$ and $\boldsymbol{\epsilon} = [ \epsilon_1, \epsilon_2, \cdots, \epsilon_K ]$ to denote the conductivity and relative permittivity of $K$ objects, respectively. 
The parameter set is thus defined as:
\begin{equation}
\boldsymbol{\Theta} =
\begin{bmatrix}
\sigma_1 & \sigma_2 & \cdots & \sigma_K \\
\epsilon_1 & \epsilon_2 & \cdots & \epsilon_K
\end{bmatrix}.
\end{equation}
Based on the typical electromagnetic properties of common materials~\cite{series2015effects}, we impose the following constraints on the tunable parameters: $\sigma_k \in (0, 2)$ and $\epsilon_k \in (1, 6)$.

Hence, the goal is further concretized to seek the optimal simulation parameters to minimize the sim-to-real discrepancy.


\subsection{Challenge}

Although DRT systems can simulate real-world wireless propagation, discrepancies often arise between their simulated outputs and actual measurementsâ€”referred to as the sim-to-real gap. 
This gap does not stem from a single source, but rather results from the complex interplay of multiple factors, such as multipath effects, material properties, and environmental geometry. 
Due to this multifactor coupling, the gap cannot be eliminated by simply adjusting a single parameter. 
The key challenge is to develop a systematic methodology for characterizing and mitigating this complex, coupled discrepancy.



\subsection{Solution}
To address the above problem, we develop a materiel learning method by leveraging the differentiable property of state-of-the-art simulators.

To calibrate $\boldsymbol{\Theta}$, we utilize both the measured and simulated reference signal received power (RSRP, in dBm) values. Let $\hat{\mathbf{r}} = [\hat{r}_1, \hat{r}_2, \cdots, \hat{r}_P]$ represent the RSRP collected at $P$ locations in $\mathcal{A}$ from existing BSs. The corresponding simulated RSRP vector, computed using the DRT under $\boldsymbol{\Theta}$, is denoted by $\tilde{\mathbf{r}}(\boldsymbol{\Theta}) = [\tilde r_1(\boldsymbol{\Theta}), \tilde r_2(\boldsymbol{\Theta}), \cdots, \tilde r_P(\boldsymbol{\Theta})]$. 
The calibration task is defined as
\begin{equation}
\boldsymbol{\Theta}^* = \arg\min_{\boldsymbol{\Theta}} \| \tilde{\mathbf{r}}(\boldsymbol{\Theta}) - \hat{\mathbf{r}} \|,
\end{equation}
where $\| \cdot \|$ represents the $\ell_2$ norm between the simulated and measured RSRP vectors. In practice, we minimize the empirical loss: 
\begin{equation}
    \mathcal{L}(\boldsymbol{\Theta}) = \frac{1}{P} \sum_{p=1}^P \left\| \tilde{\mathbf{r}}(\boldsymbol{\Theta}) - \hat{\mathbf{r}} \right\|.
\end{equation}
We optimize this loss over $E$ training epochs using stochastic gradient descent~\cite{boyd2010convex}. At each epoch $e \in {1, \dots, E}$, the parameters are updated as:
\begin{equation}
\label{eq: eq8}
\boldsymbol{\Theta}^{(e)} \leftarrow \boldsymbol{\Theta}^{(e-1)} - \eta \nabla \mathcal{L}(\boldsymbol{\Theta}^{(e-1)}) ,
\end{equation}
where $\eta$ is the learning rate and $\boldsymbol{\Theta}^{(e)}$ denotes the parameters after the $e$-th epoch. The final optimized parameters $\boldsymbol{\Theta}^*$ are obtained after $E$ epochs of training.









